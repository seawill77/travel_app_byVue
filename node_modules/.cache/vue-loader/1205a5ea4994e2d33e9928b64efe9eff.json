{"remainingRequest":"/Users/Home/Desktop/vue2-qunar-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Home/Desktop/vue2-qunar-master/src/views/city/in/components/Alphabet.vue?vue&type=style&index=0&id=7f86277c&lang=stylus&scoped=true&","dependencies":[{"path":"/Users/Home/Desktop/vue2-qunar-master/src/views/city/in/components/Alphabet.vue","mtime":1556748773695},{"path":"/Users/Home/Desktop/vue2-qunar-master/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/Home/Desktop/vue2-qunar-master/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/Home/Desktop/vue2-qunar-master/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/Users/Home/Desktop/vue2-qunar-master/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/Home/Desktop/vue2-qunar-master/node_modules/cache-loader/dist/cjs.js","mtime":1556742496301},{"path":"/Users/Home/Desktop/vue2-qunar-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import '~styles/variable.styl'\n.list\n  display flex\n  flex-direction column\n  justify-content center\n  text-align center\n  position absolute\n  top 2rem\n  bottom 0\n  right 0\n  width 0.4rem\n  font-size 0.24rem\n  font-weight bold\n  .item\n    color $bgColor\n    line-height 0.4rem\n",{"version":3,"sources":["Alphabet.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Alphabet.vue","sourceRoot":"src/views/city/in/components","sourcesContent":["<!-- 右侧字母方式查看城市组件 right side city search Navi bar -->\n<template>\n  <ul class=\"list\">\n    <li class=\"item\" v-for=\"item of characters\" :key=\"item\" :ref=\"item\" @click=\"handleCharacterClick\" @touchstart.prevent=\"handleTouchStart\" @touchmove=\"handleTouchMove\" @touchend=\"handleTouchEnd\">\n      {{item}}\n    </li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  name: 'CityAlphabet',\n  props: {\n    cities: Object\n  },\n  computed: {\n    characters() {\n      const characters = []\n      for (let i in this.cities) {\n        characters.push(i)\n      }\n      return characters\n    }\n  },\n  data() {\n    return {\n      touchStatus: false,\n      startY: 0,\n      timer: null\n    }\n  },\n  updated() {\n    // 性能提升 - 数据更新时获取startY\n    this.startY = this.$refs['A'][0].offsetTop\n  },\n  methods: {\n    handleCharacterClick(e) {\n      this.$emit('change', e.target.innerText)\n    },\n    handleTouchStart() {\n      this.touchStatus = true\n    },\n    handleTouchMove(e) {\n      if (this.touchStatus) {\n        // 性能提升 - 函数截留\n        if (this.timer) {\n          clearTimeout(this.timer)\n        }\n        this.timer = setTimeout(() => {\n          const touchY = e.touches[0].clientY - 100\n          const index = Math.floor((touchY - this.startY) / 20)\n          if (index >= 0 && index < this.characters.length) {\n            this.$emit('change', this.characters[index])\n          }\n        }, 16)\n      }\n    },\n    handleTouchEnd() {\n      this.touchStatus = false\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n@import '~styles/variable.styl'\n.list\n  display flex\n  flex-direction column\n  justify-content center\n  text-align center\n  position absolute\n  top 2rem\n  bottom 0\n  right 0\n  width 0.4rem\n  font-size 0.24rem\n  font-weight bold\n  .item\n    color $bgColor\n    line-height 0.4rem\n</style>\n"]}]}